!function(e){"use strict";var t={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&e[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},a=function(t,a,o){if(t)return o=o||"","object"===e.type(o)&&(o=e.param(o,!0)),e.each(a,function(e,a){t=t.replace("$"+e,a||"")}),o.length&&(t+=(t.indexOf("?")>0?"&":"?")+o),t};e(document).on("objectNeedsType.fb",function(o,n,r){var i,c,u,m,p,l,s,d=r.src||"",h=!1;i=e.extend(!0,{},t,r.opts.media),e.each(i,function(t,o){if(u=d.match(o.matcher)){if(h=o.type,s=t,l={},o.paramPlace&&u[o.paramPlace]){"?"==(p=u[o.paramPlace])[0]&&(p=p.substring(1)),p=p.split("&");for(var n=0;n<p.length;++n){var i=p[n].split("=",2);2==i.length&&(l[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return m=e.extend(!0,{},o.params,r.opts[t],l),d="function"===e.type(o.url)?o.url.call(this,u,m,r):a(o.url,u,m),c="function"===e.type(o.thumb)?o.thumb.call(this,u,m,r):a(o.thumb,u),"youtube"===t?d=d.replace(/&t=((\d+)m)?(\d+)s/,function(e,t,a,o){return"&start="+((a?60*parseInt(a,10):0)+parseInt(o,10))}):"vimeo"===t&&(d=d.replace("&%23","#")),!1}}),h?(r.opts.thumb||r.opts.$thumb&&r.opts.$thumb.length||(r.opts.thumb=c),"iframe"===h&&(r.opts=e.extend(!0,r.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),e.extend(r,{type:h,src:d,origSrc:r.src,contentSource:s,contentType:"image"===h?"image":"gmap_place"==s||"gmap_search"==s?"map":"video"})):d&&(r.type=r.opts.defaultType)});var o={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,a=this;this[e].loaded?setTimeout(function(){a.done(e)}):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){a[e].loaded=!0,a.done(e)}:t.onload=function(){a[e].loaded=!0,a.done(e)},document.body.appendChild(t))},done:function(t){var a,o;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(a=e.fancybox.getInstance())&&(o=a.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(o.attr("id"),{events:{onStateChange:function(e){0==e.data&&a.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(o).on("ended",function(){a.next()}))}};e(document).on({"afterShow.fb":function(e,t,a){t.group.length>1&&("youtube"===a.contentSource||"vimeo"===a.contentSource)&&o.load(a.contentSource)}})}(jQuery);